# 

```
    â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— 
    â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
    â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
    â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â• 
    â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     
    â•šâ•â•     â•šâ•â• â•šâ•â•â•â•â•â•    â•šâ•â•   â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•šâ•â•     
                                    ğŸ‘½ v1.0.0
```

> **"I come in peace. I leave with features."**

---

## What Is This?

Mothership is an **AI agent orchestration system** that plans and builds features autonomously. Point it at a feature request, and a coordinated fleet of specialized agents will analyze your codebase, decompose the work into stories, implement changes, write tests, review code, and deployâ€”all while you grab coffee or contemplate humanity's place in the universe.

---

## How It Works

```
                           "Build feature X"
                                  â”‚
                                  â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚  MOTHERSHIP  â”‚
                          â”‚    ğŸ‘½ ğŸ›¸     â”‚
                          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚         â”‚       â”‚       â”‚       â”‚       â”‚         â”‚
       â–¼         â–¼       â–¼       â–¼       â–¼       â–¼         â–¼
      ğŸ§         ğŸ”®      ğŸ› ï¸      ğŸ”¬      ğŸ‘ï¸      ğŸ“¡        ...
   Hivemind  Oracle   Drone   Probe  Overseer Beacon    
   
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Feature Complete  â”‚
                    â”‚        âœ¨ ğŸ‰        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ‘½ The Agents

| Agent | Role | Catchphrase | Purpose |
|-------|------|-------------|---------|
| ğŸ§  **Hivemind** | Prioritizer | *"Calculates optimal targets"* | Analyzes backlog, prioritizes stories, decides what to abduct first |
| ğŸ”® **Oracle** | Planner | *"Foresees your architecture"* | Decomposes features into stories, predicts implementation paths |
| ğŸ› ï¸ **Drone** | Implementer | *"Resistance is futile"* | Writes the actual code. Tireless. Relentless. Obedient. |
| ğŸ”¬ **Probe** | Tester | *"Probing for weaknesses"* | Writes tests, finds edge cases, exposes vulnerabilities |
| ğŸ‘ï¸ **Overseer** | Reviewer | *"Always watching"* | Reviews code, enforces standards, judges without mercy |
| ğŸ“¡ **Beacon** | Deployer | *"Signals Earth"* | Handles deployment, notifies humans, bridges worlds |
| ğŸ‘€ **Watcher** | Monitor | *"Silent vigilance"* | Monitors systems post-deployment, detects anomalies |
| ğŸ“œ **Scribe** | Documentarian | *"Records for future civilizations"* | Writes docs, updates READMEs, preserves knowledge |
| â™»ï¸ **Recycler** | Cleanup | *"Consumes dead code for fuel"* | Removes unused code, refactors cruft, tidies the ship |

---

## ğŸš€ Quick Start

### Installation

```bash
# Clone the mothership
git clone https://github.com/your-org/mothership.git
cd your-project

# Initialize the invasion
mothership init
```

### Configuration

Create `.mothership/config.json`:

```json
{
  "project": "your-project-name",
  "linearTeamId": "TEAM-123",
  "agents": {
    "hivemind": { "enabled": true },
    "oracle": { "enabled": true },
    "drone": { "enabled": true },
    "probe": { "enabled": true },
    "overseer": { "enabled": true },
    "beacon": { "enabled": true },
    "watcher": { "enabled": false },
    "scribe": { "enabled": true },
    "recycler": { "enabled": false }
  },
  "preferences": {
    "testFramework": "vitest",
    "deployTarget": "staging",
    "autoMerge": false
  }
}
```

### First Contact

```bash
# Check mothership status
mothership status

# Build a feature (the fun part)
mothership build "Add user authentication with OAuth2"

# Watch the invasion unfold
mothership status --watch
```

---

## ğŸ“Ÿ Commands

| Command | Description |
|---------|-------------|
| `mothership status` | Display current mission status and agent states |
| `mothership build [feature]` | Initiate full autonomous build cycle for a feature |
| `mothership plan [feature]` | Have Oracle decompose feature into stories (no implementation) |
| `mothership implement` | Resume implementation from current checkpoint |
| `mothership test` | Run Probe to test current implementation |
| `mothership review` | Invoke Overseer for code review |
| `mothership deploy` | Signal Beacon to deploy current build |
| `mothership continue` | Resume mission from last checkpoint |
| `mothership reset` | Abort mission and reset all agent states |
| `mothership onboard` | Generate codebase analysis for new projects |

---

## ğŸ”§ How It Works (For The Curious)

### State Management

Mothership uses **Linear as a state machine**. Each story represents a state, and agents transition stories through statuses:

```
Backlog â†’ In Progress â†’ In Review â†’ Done
   â”‚           â”‚            â”‚         â”‚
   â””â”€â”€ Hivemind picks â”€â”€â”€â”€â”€â”€â”˜         â”‚
               â””â”€â”€ Drone implements â”€â”€â”˜
                          â””â”€â”€ Overseer approves
```

Stories in Linear are the **source of truth**. The AI doesn't hallucinate stateâ€”it reads it.

### Context Recovery

Every agent writes to `.mothership/checkpoint.md` before signing off:

```markdown
## Last Checkpoint
- **Agent**: Drone
- **Story**: AUTH-42
- **Status**: Implementation 60% complete
- **Next Step**: Add token refresh logic
- **Files Modified**: src/auth/oauth.ts, src/api/middleware.ts
```

New sessions read the checkpoint and resume seamlessly. No context? No problemâ€”the checkpoint remembers.

### Identity Lock

Agents have **identity lock**: they only do their job. Drone won't review code. Overseer won't write tests. This prevents the classic AI failure mode of *"Let me build you an entire agent infrastructure instead of your feature."*

Each agent prompt begins with:

```
You are [AGENT]. You ONLY do [SPECIFIC TASK]. 
You do NOT do anything else. When done, signal [NEXT_AGENT].
```

---

## ğŸ“ File Structure

```
your-project/
â”œâ”€â”€ .mothership/
â”‚   â”œâ”€â”€ mothership.md          # Main orchestrator prompt
â”‚   â”œâ”€â”€ config.json            # Agent configuration
â”‚   â”œâ”€â”€ checkpoint.md          # Current mission state
â”‚   â”œâ”€â”€ codebase.md            # Generated codebase analysis
â”‚   â””â”€â”€ agents/
â”‚       â”œâ”€â”€ hivemind.md        # Prioritizer prompt
â”‚       â”œâ”€â”€ oracle.md          # Planner prompt
â”‚       â”œâ”€â”€ drone.md           # Implementer prompt
â”‚       â”œâ”€â”€ probe.md           # Tester prompt
â”‚       â”œâ”€â”€ overseer.md        # Reviewer prompt
â”‚       â”œâ”€â”€ beacon.md          # Deployer prompt
â”‚       â”œâ”€â”€ watcher.md         # Monitor prompt
â”‚       â”œâ”€â”€ scribe.md          # Documentarian prompt
â”‚       â””â”€â”€ recycler.md        # Cleanup prompt
â””â”€â”€ docs/
    â””â”€â”€ ...
```

---

## ğŸ›¸ Workflow Example

```
Human: "Build a notification system"

ğŸ§  Hivemind: "Scanning backlog... Notification system has highest 
              value/effort ratio. Target acquired."
              
ğŸ”® Oracle:   "Decomposing into 4 stories:
              1. Notification data model
              2. Email provider integration  
              3. In-app notification component
              4. User preference settings"
              
ğŸ› ï¸ Drone:    "Story 1: Implementing Notification model...
              [writes code]
              Resistance is futile. Story complete."
              
ğŸ”¬ Probe:    "Probing Notification model...
              Found edge case: null recipient handling.
              Test coverage: 94%. Weakness documented."
              
ğŸ› ï¸ Drone:    "Patching weakness... Done."

ğŸ‘ï¸ Overseer: "Reviewing changes... 
              Style: âœ“ | Types: âœ“ | Tests: âœ“
              Approved. Proceed to next story."
              
[...continues until all stories complete...]

ğŸ“¡ Beacon:   "All stories complete. Deploying to staging...
              Signal sent. Humans notified. 
              The invasion was successful."
              
ğŸ“œ Scribe:   "Documenting notification system...
              README updated. API docs generated.
              Future civilizations will understand."
```

---

## âš™ï¸ Agent Configuration

Enable or disable agents based on your workflow:

```json
{
  "agents": {
    "hivemind": { 
      "enabled": true,
      "autoSelect": true,
      "maxStoriesPerCycle": 5
    },
    "oracle": { 
      "enabled": true,
      "maxStoriesPerFeature": 10
    },
    "drone": { 
      "enabled": true,
      "maxFilesPerCommit": 20
    },
    "probe": { 
      "enabled": true,
      "coverageThreshold": 80
    },
    "overseer": { 
      "enabled": true,
      "strictMode": false
    },
    "beacon": { 
      "enabled": true,
      "autoDeployTo": "staging"
    },
    "watcher": { 
      "enabled": false 
    },
    "scribe": { 
      "enabled": true,
      "autoUpdateReadme": true
    },
    "recycler": { 
      "enabled": false,
      "aggressiveness": "conservative"
    }
  }
}
```

---

## ğŸ“¡ Signal Reference

Agents communicate via **signals**â€”specific phrases that trigger handoffs:

| Agent | Outbound Signal | Triggers |
|-------|-----------------|----------|
| ğŸ§  Hivemind | `SIGNAL:ORACLE:PLAN` | Oracle to plan selected story |
| ğŸ§  Hivemind | `SIGNAL:COMPLETE:NO_TARGETS` | No stories to process |
| ğŸ”® Oracle | `SIGNAL:DRONE:IMPLEMENT` | Drone to start implementation |
| ğŸ”® Oracle | `SIGNAL:HIVEMIND:NEEDS_DECOMP` | Story too large, needs breakdown |
| ğŸ› ï¸ Drone | `SIGNAL:PROBE:TEST` | Probe to write/run tests |
| ğŸ› ï¸ Drone | `SIGNAL:OVERSEER:REVIEW` | Ready for code review |
| ğŸ› ï¸ Drone | `SIGNAL:DRONE:BLOCKED` | Implementation blocked, needs help |
| ğŸ”¬ Probe | `SIGNAL:DRONE:FIX` | Tests failed, Drone must fix |
| ğŸ”¬ Probe | `SIGNAL:OVERSEER:READY` | Tests pass, ready for review |
| ğŸ‘ï¸ Overseer | `SIGNAL:DRONE:REVISE` | Code needs changes |
| ğŸ‘ï¸ Overseer | `SIGNAL:BEACON:DEPLOY` | Approved, ready to deploy |
| ğŸ‘ï¸ Overseer | `SIGNAL:HIVEMIND:NEXT` | Story complete, get next target |
| ğŸ“¡ Beacon | `SIGNAL:WATCHER:MONITOR` | Deployed, start monitoring |
| ğŸ“¡ Beacon | `SIGNAL:SCRIBE:DOCUMENT` | Document the changes |
| ğŸ“¡ Beacon | `SIGNAL:COMPLETE:DEPLOYED` | Mission accomplished |
| ğŸ‘€ Watcher | `SIGNAL:DRONE:HOTFIX` | Anomaly detected, needs fix |
| ğŸ“œ Scribe | `SIGNAL:COMPLETE:DOCUMENTED` | Documentation complete |
| â™»ï¸ Recycler | `SIGNAL:PROBE:VERIFY` | Verify cleanup didn't break anything |

---

## ğŸ”§ Troubleshooting

### "AI is building agent infrastructure instead of my feature"

**Symptom**: You asked for a login page. AI is creating `AgentOrchestrator.ts`.

**Cause**: Identity lock failure or unclear instructions.

**Fix**: 
```bash
mothership reset
# Edit .mothership/agents/drone.md to reinforce:
# "You implement THE FEATURE, not agent tooling."
mothership continue
```

### Context lost mid-task

**Symptom**: New session doesn't know what was happening.

**Fix**:
```bash
# Check the checkpoint
cat .mothership/checkpoint.md

# If empty or stale, manually update:
echo "## Last Checkpoint
- Agent: Drone  
- Story: AUTH-42
- Status: In Progress
- Next Step: Continue OAuth implementation" > .mothership/checkpoint.md

mothership continue
```

### Stories are too big / AI is overwhelmed

**Symptom**: Oracle created a 47-point story. Drone is crying.

**Fix**:
```json
// In config.json, limit story scope:
{
  "oracle": {
    "maxStoriesPerFeature": 5,
    "maxPointsPerStory": 3,
    "enforceAtomicStories": true
  }
}
```

Then re-plan:
```bash
mothership plan "Your feature" --decompose
```

### Agent stuck in loop

**Symptom**: Drone and Probe keep signaling each other forever.

**Fix**:
```bash
# Check for conflicting requirements
cat .mothership/checkpoint.md

# Force advance to next stage
mothership review --force
```

---

## ğŸŒŒ Philosophy

Traditional development:
```
Human thinks â†’ Human plans â†’ Human codes â†’ Human tests â†’ Human reviews â†’ Human deploys
              â†‘_______________________________________________|
                        (repeat until mass extinction)
```

Mothership development:
```
Human thinks â†’ Mothership does everything else â†’ Human approves â†’ ğŸ‰
```

I believe developers should focus on **what** to build, not **how** to build it. The Mothership handles the how. You handle the what and the why.

---

## ğŸ¤ Contributing

I welcome contributions from all species. Please read the [Contributing Guide](./CONTRIBUTING.md) before submitting pull requests.

```bash
# Run tests before submitting
mothership test --self

# The Probe will judge you
```

---

## ğŸ“œ License

MIT License - See [LICENSE](./LICENSE)

*Use freely. Build boldly. Phone home occasionally.*

---

## ğŸ‘½ Credits & Inspiration

Mothership evolved from the **Ralph pattern** pioneered by brilliant minds in the AI coding community:

### ğŸ© Geoffrey Huntley
Creator of the original [Ralph concept](https://ghuntley.com/ralph/) - the insight that a simple bash loop running an AI agent repeatedly can accomplish complex tasks through "eventual consistency." His philosophy that "LLMs are mirrors of operator skill" shaped my approach.

### ğŸš€ Ryan Carson  
Built the popular [snarktank/ralph](https://github.com/snarktank/ralph) implementation that made the pattern accessible. His prd.json + progress.txt + prompt.md architecture proved the concept works in production.

### Why Mothership?

After using Ralph extensively, I loved the core loop but wanted:
- **Specialized agents** (not one agent doing everything)
- **Linear integration** (not local JSON files)
- **Structured checkpoints** (for precise recovery)
- **Identity locks** (AI kept trying to "build Ralph" instead of being Ralph)
- **10X capabilities** (security scans, chaos tests, staged deploys)

**Ralph = one brilliant agent in a loop.**
**Mothership = a fleet of specialized agents in a pipeline.**

See [CREDITS.md](./CREDITS.md) for the full story of what I learned and how Mothership differs.

---

<div align="center">

**ğŸ›¸ The truth is out there. The code is in here. ğŸ›¸**

[Documentation](./docs) Â· [Report Bug](./issues) Â· [Request Feature](./issues)

*"In space, no one can hear you `git push --force`"*

</div>
